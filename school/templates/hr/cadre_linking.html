{% extends "base.html" %}

{%block title%}
<title>Cadre Leave Linking</title>


{% load static from staticfiles %}

<script src="{% static 'hr/cadreleave.js' %}"></script>

{% endblock %}

{% block content%}
	
<h3>Cadre Leave Linking</h3>
<h1></h1>
<div class="row">
	<div class="form-group col-xs-6 col-md-4">
		<label class="control-label">Enter Academic Year</label>
		<input type="text" required="" class="form-control year"  placeholder="Please enter the academic year (starting year)."> 
	</div>
</div>

<h4>Link Cadre And Leaves</h4>

<div class="table-responsive">	
	<table id="student_table" class="table table-striped table-bordered">
		<thead class="bg-primary">
	  		<tr>
	  			<th style="text-align: center" class="header" title="Select the rows and press delete to delete the entry.">Select</th>
	  			<th style="text-align: center" class="header">Select Employee Cadre</th>
		    	<th style="text-align: center" class="header">Select Leave Type</th>
		    	<th style="text-align: center" class="header">Number of Annual Leaves</th>
	    	</tr>
		</thead>
		<tbody>
			<tr class='data'>
	    		<td><input type='checkbox' class='case'/></td>
	    		<td style='text-align: center'><select class='form-control select cadre'>
	      			<option disabled selected hidden style='display: none' value>Select Employee Cadre</option>
	      		</select></td>
	    		<td style='text-align: center'><select class='form-control select leave'>
	      			<option disabled selected hidden style='display: none' value>Select Leave Type</option>
	      		</select></td>
	      		<td style='text-align: center'><input type='number' min=1 class='numbers'/></td>
	    	</tr>
		</tbody>
	</table>

</div>

<button type="button" class='delete btn btn-danger btn-xs'>- Delete</button>
<button type="button" class='addmore btn btn-success btn-xs'>+ Add More</button>
<h1></h1>

<button type="button" class='submit btn btn-primary btn-xs' title="Click submit to link fees and cadre.">Submit</button>

<!-- <button type="button" class='reset btn btn-primary btn-xs'>Reset</button> -->

<!-- Sweetalert JS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>


<script>
	redirect_url="#"
	csrf_token='{{csrf_token}}';
	var cadres=JSON.parse('{{cadres |escapejs}}');
	var leaves=JSON.parse('{{leaves |escapejs}}');
	$.each(cadres, function(){
        $('table').find('.cadre').append($('<option>',{
        	'data-id': this.id,
            'text': this.name
        }));
    });
    $.each(leaves, function(){
        $('table').find('.leave').append($('<option>',{
        	'data-id': this.id,
            'text': this.name
        }));
    });
</script>
{% endblock %}