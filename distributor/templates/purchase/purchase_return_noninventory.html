{% extends extension %}

{%block title%}

<title>Purchase Invoice</title>


{% endblock %} 

{% block content%}
	
<!-- <div class="col-xs-6">
  <h3>
 -->    <!-- <img src="logo.png"> -->
<!--     	Name here -->
<!--   </h3>
</div> -->
<div class="col-xs-12 text-center">
  <h3>PURCHASE RETURN</h3>
  <!-- <h3><small>Receipt No #001</small></h3> -->
</div>
<br>
<br>


<div class="row">
	<div class="form-group col-xs-2">
		<label class="control-label">Select Vendor</label>
		<select class="form-control selectpicker vendor" id="vendor" data-live-search="true">
			<option disabled selected hidden style='display: none' value>Select Vendor</option>				
		</select>		 
	</div>
	<div class="form-group col-xs-2">
		<label class="control-label">Supplier/Return Note No</label>
		<input class="form-control supplier_note_no">		 
	</div>
	<div class="form-group col-xs-2">
		<label class="control-label">Select Warehouse</label>
		<select class="form-control selectpicker warehouse" id="warehouse" data-live-search="true">
			<option disabled selected hidden style='display: none' value>Select Warehouse</option>				
		</select>		 
	</div>
	<div class="form-group col-xs-2">
		<label class="control-label">Adjustment Receipt No.</label>
		<input class="form-control adj_receipt" disabled>		 
	</div>
	<div class="form-group col-xs-2" hidden>
		<label class="control-label">Adjustment Receipt Total</label>
		<input class="form-control adj_value_total">
	</div>
	<div class="form-group col-xs-2" hidden>
		<label class="control-label">Adjustment Receipt Due</label>
		<input class="form-control adj_value_due">
	</div>
	<div class="form-group col-xs-2" hidden>
		<label class="control-label">Adjustment Receipt Found</label>
		<input class="form-control adj_receipt_found">
	</div>
	<div class="form-group col-xs-2" hidden>
		<label class="control-label">Adjustment Receipt Error</label>
		<input class="form-control adj_receipt_error">
	</div>
	<div class="form-group col-xs-2">
		<label class="control-label">Return Date</label>				 
		<input class="form-control date">
	</div>
	<div class="form-group col-xs-2">
		<label class="control-label tax_type_label">Change if IGST</label>
		<div><input class="form-control is_igst" type="checkbox"></div>
	</div>
</div>

<div class="">	
<table class="table table-striped table-bordered details">
	<thead>
    	<tr>
        	<th hidden></th>
        	<th colspan="1"></th>
        	<th colspan="3">Item</th>
            <th colspan="1">Qty</th>
            <!-- <th colspan="1"><h5>Free w/o tax</h5></th> -->
            <th colspan="1" hidden>Unit</th>
            <th colspan="1" hidden>Qty available</th>
            <th colspan="1" hidden>Original Purchase Rate</th>
            <th colspan="1">Purchase Rate</th>
            <th colspan="1" hidden>Tentative Sales Price</th>
            <th colspan="1" hidden>MRP</th>
            <th colspan="1">Taxable Total</th>
            <th colspan="1" class="csgst">CGST %</th>
            <th colspan="1" class="csgst">CGST Val</th>
            <th colspan="1" class="csgst">SGST %</th>
            <th colspan="1" class="csgst">SGST Val</th>
            <th colspan="1" hidden class="igst">IGST %</th>
            <th colspan="1" hidden class="igst">IGST Val</th>
            <th colspan="1"><h5>Total</h5></th>
        </tr>
	</thead>
	<tbody>
		<tr class='data'>
			<td hidden><input class="id"></td>
			<td colspan="1" class='first'><button style="display: none;" class="delete btn btn-danger btn-xs">-</button></td>
			<td colspan="3"><input class="form-control name"></td>
            <td colspan="1"><input class="form-control qty"></td>
            <td colspan="1" hidden class="unit_multi"></td>
			<td colspan="1" hidden>
				<select class="form-control selectpicker unit" id='unit'>
				</select>
			</td>
            <td colspan="1" class="qty_available" hidden></td>
            <td colspan="1" class="original_pr" hidden></td>
            <td colspan="1"><input class="form-control pr"></td>
            <td colspan="1" class="tsr" hidden></td>
            <td colspan="1" class="mrp" hidden></td>
            <td colspan="1" class="total">0.00</td>
            <td colspan="1" class="csgst"><input class="form-control cgstp"></td>
            <td colspan="1" class="cgstv csgst">0.00</td>
            <td colspan="1" class="csgst"><input class="form-control sgstp"></td>
            <td colspan="1" class="sgstv csgst">0.00</td>
            <td colspan="1" hidden class="igst"><input class="form-control igstp"></td>
            <td colspan="1" class="igstv igst" hidden>0.00</td>
            <td colspan="1" class="tv">0.00</td>
		</tr>
	</tbody>
</table>
</div>

<button type="button" class='addmore btn btn-success btn-xs'>+ Add Product</button>
<br>
<br>

<div class="row text-right billdata">
	
	<div class="col-xs-4 col-xs-offset-8">
		<table class="table metadata boderless">
			<tr>
				<td>Subtotal</td>
				<td>Rs.</td>
		        <td><span class='subtotal_receipt'>0.00</span></td>
			</tr>
			<!-- <tr>
				<td>Grand Discount</td>
				<td>Rs.</td>
		        <td class='grand_discount'>0.00</td>
			</tr> -->
			<tr>
				<td>Tax Total</td>
				<td>Rs.</td>
		        <td class='taxtotal_receipt'>0.00</td>
			</tr>
			<tr hidden>
				<td>CGST Total</td>
				<td>Rs.</td>
		        <td class='cgsttotal_receipt'>0.00</td>
			</tr>
			<tr hidden>
				<td>SGST Total</td>
				<td>Rs.</td>
		        <td class='sgsttotal_receipt'>0.00</td>
			</tr>
			<tr>
				<td>Round Off</td>
				<td>Rs.</td>
		        <td ><input type="number" min="-0.99" max="0.99" step="0.01" class='form-control round'></td>
			</tr>
			<tr>
				<td>Total Payable</td>
				<td>Rs.</td>
		        <td class='total_receipt'>0.00</td>
			</tr>
		</table>
	</div>
</div>
<br>

<button type="button" class="btn btn-primary submit">Save Record</button>

<!-- Sweetalert JS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>

<!-- Bootstrap Switch -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/3.3.4/css/bootstrap3/bootstrap-switch.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/3.3.4/js/bootstrap-switch.min.js"></script>

<!-- Moment.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/2.1.25/moment.min.js"></script>

<!-- Bootstrap Datepicker -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.standalone.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.min.js"></script>

{% load static from staticfiles %}

<script src="{% static 'purchase/return_noninventory.js' %}"></script>

<style type="text/css">
	.boderless td, .boderless th{
		border: none;
	}
</style>

<script>
	csrf_token='{{csrf_token}}';
	var calledfrom = 'receipt'
	$(".is_igst").bootstrapSwitch({
		size: 'small',
		onColor: 'warning',
		offColor: 'success',
		onText: 'IGST',
		offText: 'C/SGST',
		// handleWidth: 20,
		labelWidth: 15,
		animate: true,
		// labelText: 'Tax-type'
	});
	$('.date').datepicker({
	    autoclose: true,
	    // endDate: moment(),
	    // endDate: '0d',
	     todayHighlight: true,
	    format: 'dd/mm/yyyy',    
	});
	$('.duedate').datepicker({
	    autoclose: true,
	    todayHighlight: true,
	    format: 'dd/mm/yyyy',    
	});
	$(".date").datepicker("setDate", new Date());
</script>

{% endblock %}



