{% extends "base.html" %}

{% block title %}
<title>
    Journal List 
</title>
<!-- Datatable CSS-->
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
<!-- Datatable jQuery-->
<script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
{% load static from staticfiles %}
{% endblock %}

{% block content%}
	<h2>Detiled Journal Entries</h2>
  <h1></h1>
	<!-- This if-else set is used to add the "add new item" button to the top of the list. The details inside script is used for the related jquery file -->

	<div class="table-responsive">
		<table class="table table-striped table-bordered table-hover" id="inventory">
			<thead class="thead-inverse header-background">
    			<tr>
      				<th class="text-center">Journal Key</th>
              <th class="text-center">Remarks</th>
              <th class="text-center">Group</th>
      				<th class="text-center">Date</th>
      				<th class="text-center">Debit/Credit</th>
              <th class="text-center">Account</th>
      				<th class="text-center">Debit Value</th>
      				<th class="text-center">Credit Value</th>
    			</tr>
  			</thead>
  			<tbody>
  				{% for journal in journals %}
            {% for entry in journal.journalEntry_journal.all %}
              <tr align="center">
      				  <td>{{journal.key}}</td>
                <td>{{journal.journal_type}}</td>
                <td>{{journal.group}}</td>
      				  <td>{{journal.date|date:'d-m-Y'}}</td>
                <td>{{entry.transaction_type}}</td>
                {% if entry.transaction_type == "Debit" %}
      				    <td align="left">{{entry.account.name}}</td>
      				    <td>{{entry.value}}</td>
                  <td></td>
                {% else %}
                  <td align="right">{{entry.account.name}}</td>
                  <td></td>
                  <td>{{entry.value}}</td>
                {% endif %}
              </tr>
            {% endfor %}           
	    		{% endfor %}
    		</tbody>
    	</table> 
    </div>

<script type="text/javascript">
  $(document).ready(function(){
    $('#inventory').DataTable({
      "searching": false
    });
  });
</script>
	
{% endblock %}




