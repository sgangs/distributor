{% extends "base.html" %}

{% block title %}
<title>
    Inventory Master 
</title>
<!-- Datatable CSS-->
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
<!-- Datatable jQuery-->
<script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
{% endblock %}

{% block content%}

  <div class="btn-block">
    {% if inventory_type == "Normal" %}
    <a href="{% url 'inventory:returnable_list' %}"><button class="btn btn-primary" type="button">Go to returnable inventory list</button></a>
    <a href="{% url 'inventory:damaged_list' %}"><button class="btn btn-primary" type="button">Go to damaged inventory list</button></a>
    {% elif inventory_type == "Returnable" %}
    <a href="{% url 'inventory:list' %}"><button class="btn btn-primary" type="button">Go to general inventory list</button></a>
    <a href="{% url 'inventory:damaged_list' %}"><button class="btn btn-primary" type="button">Go to damaged inventory list</button></a>
    {% elif inventory_type == "Damaged" %}
    <a href="{% url 'inventory:list' %}"><button class="btn btn-primary" type="button">Go to general inventory list</button></a>
    <a href="{% url 'inventory:returnable_list' %}"><button class="btn btn-primary" type="button">Go to returnable inventory list</button></a>
    {% endif %}
  </div>
  {% if inventory_type == "Normal" %}
    <h2>Inventory Table</h2>
  {% elif inventory_type == "Returnable" %}
    <h2>Returnable Inventory Table</h2>
  {% elif inventory_type == "Damaged" %}
    <h2>Damaged Inventory Table</h2>
  {% endif %}
  <h1></h1>

  <!-- This if-else set is used to add the "add new item" button to the top of the list. The details inside script is used for the related jquery file -->

	<div class="table-responsive">
		<table class="table table-striped table-bordered table-hover" id="inventory">
			<thead class="thead-inverse header-background">
    			<tr>
      				<th class="text-center">Warehouse</th>
              <th class="text-center">Name</th>
              <th class="text-center">Item Code</th>
              <th class="text-center">Subcode</th>
      				<!--<th class="text-center">Batch</th>-->
      				<th class="text-center">Cost Price</th>
      				<th class="text-center">Sales Price</th>
      				<th class="text-center">Stock (In Base Unit)</th>
    			</tr>
  			</thead>
  			<tbody>
          {% for inventory in inventories %}
    			<tr align="center">
              <td>{{inventory.warehouse.address}}</td>
      				<td>{{inventory.item.product.name}}</td>
              <td>{{inventory.item.product.key}}</td>
              <td>{{inventory.item.sub_key}}</td>
      				<!--<td>{{inventory.item.batch}}</td>-->
      				<td>{{inventory.item.cost_price}}</td>
      				<td>{{inventory.item.selling_price}}</td>
      				<td>{{inventory.quantity}}</td>
	    		</tr>
	    		{% endfor %}
    		</tbody>
    	</table> 
    </div>

<script type="text/javascript">
  $(document).ready(function(){
    $('#inventory').DataTable({
      "searching": false
    });
  });
</script>
	
{% endblock %}




